"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9098],{4525:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>d});var r=n(4848),o=n(8453);const a={},s="Houdini Groups to Maya Sets",i={id:"maya/log/houdini_groups_to_maya_sets",title:"Houdini Groups to Maya Sets",description:"I need identiy points of a mouth geo that are near the teeth geo.",source:"@site/docs/maya/log/houdini_groups_to_maya_sets.md",sourceDirName:"maya/log",slug:"/maya/log/houdini_groups_to_maya_sets",permalink:"/docs/maya/log/houdini_groups_to_maya_sets",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/maya/log/houdini_groups_to_maya_sets.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Get the Largest Piece",permalink:"/docs/maya/log/get_the_largest_piece"},next:{title:"Programming",permalink:"/docs/maya/programming/"}},c={},d=[];function l(e){const t={code:"code",h1:"h1",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"houdini-groups-to-maya-sets",children:"Houdini Groups to Maya Sets"}),"\n",(0,r.jsx)(t.p,{children:"I need identiy points of a mouth geo that are near the teeth geo.\r\nCan't do it reliably and progmatrically in Maya, so ended up doing it in Houdini.\r\nThe problem is Houdini Groups does not seem to be carried over to Maya Sets."}),"\n",(0,r.jsx)(t.p,{children:"So I had to create scripts to export the data from Houdini and import the data in Maya"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'# Houdini Python\r\nimport hou\r\nimport json\r\nimport os\r\n\r\n# Get the current node\r\nnode = hou.pwd()\r\n\r\n# Get the detail attribute named "tag"\r\ngeo = node.geometry()\r\ntag_value = geo.attribValue("tag")\r\n\r\n# Get the path of the Houdini file\r\nhip_file = hou.hipFile.name()\r\n\r\n# Construct the path for the JSON file in the same directory\r\njson_file_path = os.path.splitext(hip_file)[0] + "_tag_value.json"\r\n\r\n# Save tag_value in JSON format\r\nwith open(json_file_path, \'w\') as json_file:\r\n    json.dump({"tag_value": tag_value}, json_file, indent=4)\r\n\r\nprint("Tag value saved in JSON format:", tag_value)\r\n\n'})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'# Maya Python\r\n# Import Data from Houdini \r\n\r\nimport maya.cmds as cmds\r\nimport os\r\nimport json\r\n\r\n# Load the JSON file\r\njson_file_path = r"C:\\Users\\BT\\Documents\\projects\\work\\2024\\09_dianne_void_eel\\houdini\\delete_small_parts_tag_value.json"  # Replace this with the actual path\r\nwith open(json_file_path, \'r\') as json_file:\r\n    data = json.load(json_file)\r\n\r\n# Retrieve tag_value from JSON data\r\n\r\n#print (data)\r\ntag_value = data["tag_value"]\r\n\r\nprint (tag_value)\r\n\r\nselection_set_name = "houdini_selection_set"\r\ncmds.select(clear=True)\r\nfor vtx_index in tag_value:\r\n    print (type(vtx_index))\r\n    vtx_name = "body_low_wip.vtx[%d]" % vtx_index  # Assuming pPlane1 is the name of your mesh\r\n    #print (vtx_name, type(vtx_name))\r\n    #cmds.select("body_low_wip.vtx[11323]", add=True)\r\n    cmds.select(vtx_name, add=True)    \r\n\r\ncmds.sets(name=selection_set_name, forceElement=True) # gives an error. create a new set yet. \r\n\n'})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'# Create Rivets from the Sets\r\n# Create Joints and Controls from the Rivets\r\n# The sets contain point selection\r\n\r\n# TO DO. \r\n# Rename some joints. to the teeth\r\nimport maya.cmds as cmds\r\n\r\n# Access specific selection set members\r\nselected_objects = cmds.sets(\'houdini_selection_set\', q=True)\r\nrivet_list = []\r\n\r\n\r\n# Create the Rivets\r\nfor p in selected_objects:\r\n   cmds.select(clear=True)\r\n   cmds.select(p, add=True)\r\n   cmds.Rivet()\r\n   constraint = cmds.ls(sl=True)\r\n   rivet_list.append(constraint)\r\n      \r\n# Create the Joints and Controls\r\n#circle_ref = cmds.circle()[0] # returns [\'nurbsCircle1\', \'makeNurbCircle1\']\r\ncircle_ref = \'box_ref\'\r\n\r\n\r\nfor riv in rivet_list:\r\n    cmds.select(clear=True)\r\n    grp = cmds.group(em=True)\r\n    start_joint = cmds.joint() # automatic parent because riv joint is alreadyselected\r\n    end_joint = cmds.joint() # automatic parent because riv joint is alreadyselected\r\n    loc_obj = riv[1]\r\n    cmds.setAttr(loc_obj + ".localScaleX", 0.05)\r\n    cmds.setAttr(loc_obj + ".localScaleY", 0.05)\r\n    cmds.setAttr(loc_obj + ".localScaleZ", 0.05)        \r\n    con = cmds.parentConstraint(loc_obj, grp, mo=False)\r\n    cmds.delete(con)\r\n    con = cmds.parentConstraint(loc_obj, start_joint, mo=False)\r\n    cmds.delete(con)\r\n    con = cmds.parentConstraint(loc_obj, end_joint, mo=False)    \r\n    cmds.delete(con)\r\n    cmds.setAttr(end_joint + ".tx", 0.2)\r\n    con = cmds.parentConstraint(loc_obj, grp, mo=True)\r\n\r\n    # PARENT SHAPE CONTROLS\r\n    circle_duplicate = cmds.duplicate(circle_ref) \r\n    shape_nodes = cmds.listRelatives(circle_duplicate, shapes=True)[0]\r\n    rename_shape_node = start_joint + "_name" # Too dirty. Joint01, Joint02\r\n    cmds.rename(shape_nodes, rename_shape_node) \r\n    cmds.parent(rename_shape_node, start_joint, relative=True, shape=True)  \r\n    cmds.delete(circle_duplicate)\r\n        \r\n#cmds.delete(circle_ref)\n'})})]})}function m(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>i});var r=n(6540);const o={},a=r.createContext(o);function s(e){const t=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(a.Provider,{value:t},e.children)}}}]);