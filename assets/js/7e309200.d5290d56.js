"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8891,9378],{8482:(e,t,r)=>{r.r(t),r.d(t,{StyledMarkdown:()=>n});var s=r(2005),o=r(6171),a=r(4848);function n(e){let{content:t}=e;return(0,a.jsx)(s.o,{remarkPlugins:[o.A],components:{h1:e=>{let{node:t,...r}=e;return(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",...r})},h2:e=>{let{node:t,...r}=e;return(0,a.jsx)("h2",{className:"text-xl font-semibold mb-3",...r})},h3:e=>{let{node:t,...r}=e;return(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",...r})},p:e=>{let{node:t,...r}=e;return(0,a.jsx)("p",{className:"mb-4",...r})},ul:e=>{let{node:t,...r}=e;return(0,a.jsx)("ul",{className:"list-disc pl-5 mb-4",...r})},ol:e=>{let{node:t,...r}=e;return(0,a.jsx)("ol",{className:"list-decimal pl-5 mb-4",...r})},li:e=>{let{node:t,...r}=e;return(0,a.jsx)("li",{className:"mb-1",...r})},blockquote:e=>{let{node:t,...r}=e;return(0,a.jsx)("blockquote",{className:"border-l-4 border-gray-300 pl-4 italic mb-4",...r})},code:e=>{let{node:t,inline:r,...s}=e;return r?(0,a.jsx)("code",{className:"bg-gray-100 rounded px-1 py-0.5",...s}):(0,a.jsx)("code",{className:"block bg-gray-100 rounded p-2 mb-4",...s})}},children:t})}},4642:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var s=r(6540),o=r(4335),a=r(8482),n=r(4848);const l=()=>{const[e,t]=(0,s.useState)(""),[r,l]=(0,s.useState)("youtube"),[c,i]=(0,s.useState)(""),[d,m]=(0,s.useState)(!1),[u,h]=(0,s.useState)(null),[b,x]=(0,s.useState)([]);return(0,n.jsxs)("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Comments Summarizer"}),(0,n.jsxs)("div",{className:"flex justify-center mb-4 space-x-4",children:[(0,n.jsxs)("select",{value:r,onChange:e=>l(e.target.value),className:"border border-gray-300 rounded-lg p-2",children:[(0,n.jsx)("option",{value:"youtube",children:"YouTube"}),(0,n.jsx)("option",{value:"reddit",children:"Reddit"})]}),(0,n.jsx)("input",{type:"text",placeholder:"youtube"===r?"Enter YouTube Video URL":"Enter Reddit Thread URL",value:e,onChange:e=>t(e.target.value),className:"border border-gray-300 rounded-lg p-2 w-full max-w-xs"}),(0,n.jsx)("button",{onClick:async()=>{m(!0),h(null),i(""),x([]);try{let t=[];if("youtube"===r){const r=(e=>{try{const t=new URL(e);if(t.hostname.includes("youtube.com"))return t.searchParams.get("v");if(t.hostname.includes("youtu.be"))return t.pathname.substring(1)}catch(u){console.error("Error parsing YouTube URL:",u)}return null})(e);if(!r)throw new Error("Invalid YouTube URL.");t=await(async e=>{const t=[];let r="";try{for(;;){const s=await o.A.get("https://www.googleapis.com/youtube/v3/commentThreads",{params:{part:"snippet,replies",videoId:e,key:"AIzaSyCZYMu8qJsRZnz68ePTTSyNACtP_lzrk68",maxResults:100,pageToken:r}});if(s.data.items.forEach((e=>{const r=e.snippet.topLevelComment.snippet.textOriginal;t.push({id:e.id,text:r})})),r=s.data.nextPageToken,!r)break}return t}catch(u){throw console.error("Error fetching YouTube comments:",u),new Error("Failed to fetch YouTube comments.")}})(r)}else t=await(async e=>{try{const t=await fetch(`${e}.json`);if(!t.ok)throw new Error(`Error fetching data: ${t.statusText}`);return(await t.json())[1].data.children.map((e=>({text:e.data.body,author:e.data.author,score:e.data.score})))}catch(u){throw console.error("Error fetching Reddit comments:",u),new Error("Failed to fetch Reddit comments.")}})(e);x(t);const s=await(async e=>{const t="Can you summarize and categorize the following comments? Provide insights into common themes, sentiment, and key takeaways.\n\n"+e.map((e=>`${e.author?`[${e.author}] `:""}${e.text}`)).join("\n");try{return(await o.A.post("https://api.openai.com/v1/chat/completions",{model:"gpt-4o-mini",messages:[{role:"system",content:"You are a helpful assistant that provides insightful summaries of online discussions."},{role:"user",content:t}]},{headers:{Authorization:"Bearer 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","Content-Type":"application/json"}})).data.choices[0].message.content}catch(u){throw console.error("Error summarizing comments:",u),new Error("Failed to summarize comments.")}})(t);i(s)}catch(t){h(t instanceof Error?t.message:"An unknown error occurred.")}finally{m(!1)}},disabled:d,className:"bg-blue-500 text-white rounded-lg p-2 hover:bg-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Summarizing...":"Summarize"})]}),u&&(0,n.jsx)("p",{className:"text-red-500 text-center mb-4",children:u}),b.length>0&&(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsxs)("h3",{className:"text-xl font-semibold mb-2",children:["Comments (",b.length,"):"]}),(0,n.jsx)("div",{className:"max-h-64 overflow-y-auto bg-gray-100 p-4 rounded-lg mb-4",children:(0,n.jsx)("ul",{children:b.map(((e,t)=>(0,n.jsxs)("li",{className:"mb-2 pb-2 border-b border-gray-300 last:border-b-0",children:[e.author&&(0,n.jsx)("p",{className:"font-bold text-sm",children:e.author}),(0,n.jsx)("p",{children:e.text}),void 0!==e.score&&(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Score: ",e.score]})]},t)))})})]}),c&&(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Summary:"}),(0,n.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg",children:(0,n.jsx)(a.StyledMarkdown,{content:c})})]})]})}}}]);