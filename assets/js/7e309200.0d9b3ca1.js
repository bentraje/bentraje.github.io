"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8891,9378],{8482:(e,t,s)=>{s.r(t),s.d(t,{StyledMarkdown:()=>n,default:()=>l});var r=s(2005),a=s(6171),o=s(4848);function n(e){let{content:t}=e;return(0,o.jsx)(r.o,{remarkPlugins:[a.A],components:{h1:e=>{let{node:t,...s}=e;return(0,o.jsx)("h1",{className:"text-2xl font-bold mb-4",...s})},h2:e=>{let{node:t,...s}=e;return(0,o.jsx)("h2",{className:"text-xl font-semibold mb-3",...s})},h3:e=>{let{node:t,...s}=e;return(0,o.jsx)("h3",{className:"text-lg font-semibold mb-2",...s})},p:e=>{let{node:t,...s}=e;return(0,o.jsx)("p",{className:"mb-4",...s})},ul:e=>{let{node:t,...s}=e;return(0,o.jsx)("ul",{className:"list-disc pl-5 mb-4",...s})},ol:e=>{let{node:t,...s}=e;return(0,o.jsx)("ol",{className:"list-decimal pl-5 mb-4",...s})},li:e=>{let{node:t,...s}=e;return(0,o.jsx)("li",{className:"mb-1",...s})},blockquote:e=>{let{node:t,...s}=e;return(0,o.jsx)("blockquote",{className:"border-l-4 border-gray-300 pl-4 italic mb-4",...s})},code:e=>{let{node:t,inline:s,...r}=e;return s?(0,o.jsx)("code",{className:"bg-gray-100 rounded px-1 py-0.5",...r}):(0,o.jsx)("code",{className:"block bg-gray-100 rounded p-2 mb-4",...r})}},children:t})}const l=n},4642:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(6540),a=s(4335),o=s(8482),n=s(4848);const l=()=>{const[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)("youtube"),[i,c]=(0,r.useState)(""),[d,m]=(0,r.useState)(!1),[u,h]=(0,r.useState)(null),[b,x]=(0,r.useState)([]),p=e=>{const t={text:e.data.body,author:e.data.author,score:e.data.score,replies:[]};return e.data.replies&&e.data.replies.data&&(t.replies=e.data.replies.data.children.map((e=>p(e)))),t};return(0,n.jsxs)("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Comments Summarizer"}),(0,n.jsxs)("div",{className:"flex justify-center mb-4 space-x-4",children:[(0,n.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"border border-gray-300 rounded-lg p-2",children:[(0,n.jsx)("option",{value:"youtube",children:"YouTube"}),(0,n.jsx)("option",{value:"reddit",children:"Reddit"})]}),(0,n.jsx)("input",{type:"text",placeholder:"youtube"===s?"Enter YouTube Video URL":"Enter Reddit Thread URL",value:e,onChange:e=>t(e.target.value),className:"border border-gray-300 rounded-lg p-2 w-full max-w-xs"}),(0,n.jsx)("button",{onClick:async()=>{m(!0),h(null),c(""),x([]);try{let t=[];if("youtube"===s){const s=(e=>{try{const t=new URL(e);if(t.hostname.includes("youtube.com"))return t.searchParams.get("v");if(t.hostname.includes("youtu.be"))return t.pathname.substring(1)}catch(u){console.error("Error parsing YouTube URL:",u)}return null})(e);if(!s)throw new Error("Invalid YouTube URL.");t=await(async e=>{const t=[];let s="";try{for(;;){const r=await a.A.get("https://www.googleapis.com/youtube/v3/commentThreads",{params:{part:"snippet,replies",videoId:e,key:"AIzaSyCZYMu8qJsRZnz68ePTTSyNACtP_lzrk68",maxResults:100,pageToken:s}});if(r.data.items.forEach((e=>{const s=e.snippet.topLevelComment.snippet.textOriginal;t.push({id:e.id,text:s})})),s=r.data.nextPageToken,!s)break}return t}catch(u){throw console.error("Error fetching YouTube comments:",u),new Error("Failed to fetch YouTube comments.")}})(s)}else t=await(async e=>{try{const t=await fetch(`${e}.json`);if(!t.ok)throw new Error(`Error fetching data: ${t.statusText}`);return(await t.json())[1].data.children.map((e=>p(e)))}catch(u){throw console.error("Error fetching Reddit comments:",u),new Error("Failed to fetch Reddit comments.")}})(e);x(t);const r=await(async e=>{const t="Can you summarize and categorize the following comments? Provide insights into common themes, sentiment, and key takeaways.\n\n"+e.map((e=>`${e.author?`[${e.author}] `:""}${e.text}`)).join("\n");try{return(await a.A.post("https://api.openai.com/v1/chat/completions",{model:"gpt-4o-mini",messages:[{role:"system",content:"You are a helpful assistant that provides insightful summaries of online discussions."},{role:"user",content:t}]},{headers:{Authorization:"Bearer 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","Content-Type":"application/json"}})).data.choices[0].message.content}catch(u){throw console.error("Error summarizing comments:",u),new Error("Failed to summarize comments.")}})(t);c(r)}catch(t){h(t instanceof Error?t.message:"An unknown error occurred.")}finally{m(!1)}},disabled:d,className:"bg-blue-500 text-white rounded-lg p-2 hover:bg-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Summarizing...":"Summarize"})]}),u&&(0,n.jsx)("p",{className:"text-red-500 text-center mb-4",children:u}),b.length>0&&(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsxs)("h3",{className:"text-xl font-semibold mb-2",children:["Comments (",b.length,"):"]}),(0,n.jsx)("div",{className:"max-h-64 overflow-y-auto bg-gray-100 p-4 rounded-lg mb-4",children:(0,n.jsx)("ul",{children:b.map(((e,t)=>(0,n.jsxs)("li",{className:"mb-2 pb-2 border-b border-gray-300 last:border-b-0",children:[e.author&&(0,n.jsx)("p",{className:"font-bold text-sm",children:e.author}),(0,n.jsx)("p",{children:e.text}),void 0!==e.score&&(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Score: ",e.score]})]},t)))})})]}),i&&(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Summary:"}),(0,n.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg",children:(0,n.jsx)(o.StyledMarkdown,{content:i})})]})]})}}}]);