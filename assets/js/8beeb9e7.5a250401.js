"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9272,816],{9582:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var l=n(6540),a=n(6430),s=n(2905),i=n(4848);const d=e=>{let{employees:t,handleEdit:n,handleDelete:d,isAdmin:r,getGenerationList:c,familyTree:p}=e;const[o,x]=(0,l.useState)({}),[h,m]=(0,l.useState)({});return(0,i.jsx)("div",{className:"contain-table",children:(0,i.jsxs)("table",{className:"striped-table",style:{width:"100%",tableLayout:"fixed"},children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{style:{padding:"10px",textAlign:"left"},children:"Name"}),(0,i.jsx)("th",{style:{padding:"10px",textAlign:"center",width:"150px"},children:"Pick"}),r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("th",{style:{padding:"10px",textAlign:"left"},children:"Father"}),(0,i.jsx)("th",{style:{padding:"10px",textAlign:"left"},children:"Mother"}),(0,i.jsx)("th",{style:{padding:"10px",textAlign:"left"},children:"Spouse"}),(0,i.jsx)("th",{style:{padding:"10px",textAlign:"left"},children:"Generation"}),(0,i.jsx)("th",{colSpan:2,className:"text-center",children:"Actions"})]})]})}),(0,i.jsx)("tbody",{children:t?t.map((e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{style:{padding:"10px",textAlign:"left"},children:e.name}),(0,i.jsx)("td",{style:{padding:"10px",textAlign:"center",width:"150px"},children:""===e.pick?o[e.name]?o[e.name]:h[e.name]?h[e.name]:(0,i.jsx)("button",{className:"button",onClick:()=>((e,t)=>{const n=c(e,p),l=(e=>e.filter((e=>e.pick&&""!==e.pick.trim())).map((e=>e.name)))(p),i=((e,t)=>{const n=t.find((t=>t.name===e));if(!n||!n.spouse)return[];const l=t.find((e=>e.name===n.spouse));return l?[l.name]:[]})(e,p),d=((e,t)=>{const n=t.find((t=>t.name===e));if(!n||!n.parents_a)return[];const l=n.parents_a;return t.filter((t=>t.parents_a===l&&t.name!==e)).map((e=>e.name))})(e,p),r=((e,t,n,l)=>e.filter((e=>!t.includes(e)&&!n.includes(e)&&!l.includes(e))))(n,i,l,d);if(r.length>0){const l=r[Math.floor(Math.random()*r.length)];let i=0;const d=setInterval((()=>{m((t=>({...t,[e]:n[i%n.length]}))),i+=1}),100);setTimeout((async()=>{clearInterval(d),m((t=>({...t,[e]:null}))),x((t=>({...t,[e]:l}))),console.log("Picked Name:",l);try{const e=(0,a.H9)(s.db,"names02",t);await(0,a.BN)(e,{pick:l},{merge:!0}),console.log(`Updated Firestore with picked name: ${l}`)}catch(n){console.error("Error updating Firestore:",n)}}),3e3)}else console.log("No eligible names available to pick.")})(e.name,e.id),children:"Bunot"}):e.pick}),r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("td",{style:{padding:"10px",textAlign:"left"},children:e.parents_a}),(0,i.jsx)("td",{style:{padding:"10px",textAlign:"left"},children:e.parents_b}),(0,i.jsx)("td",{style:{padding:"10px",textAlign:"left"},children:e.spouse}),(0,i.jsx)("td",{style:{padding:"10px",textAlign:"left"},children:e.generation}),(0,i.jsx)("td",{style:{padding:"10px",textAlign:"right"},children:(0,i.jsx)("button",{onClick:()=>n(e.id),className:"button muted-button",children:"Edit"})}),(0,i.jsx)("td",{style:{padding:"10px",textAlign:"left"},children:(0,i.jsx)("button",{onClick:()=>d(e.id),className:"button muted-button",children:"Delete"})})]})]},e.id))):(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:r?9:2,children:"No Employees"})})})]})})}},2905:(e,t,n)=>{n.r(t),n.d(t,{db:()=>i});var l=n(223),a=n(6430);const s=(0,l.Wp)({apiKey:"AIzaSyBD2yUpGVaZw6N9x6iex8pbJx20cqA-EK0",authDomain:"employee-database-861a6.firebaseapp.com",projectId:"employee-database-861a6",storageBucket:"employee-database-861a6.appspot.com",messagingSenderId:"69607313080",appId:"1:69607313080:web:99a0f1e74c4fa5c66eae4d"}),i=(0,a.aU)(s)}}]);