"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2356],{1731:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>l});var o=n(4848),i=n(8453);const a={},s="Matrix",r={id:"cinema4d/programming/specific/matrix",title:"Matrix",description:"Matrix math is widely used for various DCC to represent position, rotation and scale. Cinema4D provides a comprehensive introduction on its own implemention.",source:"@site/docs/cinema4d/programming/specific/matrix.md",sourceDirName:"cinema4d/programming/specific",slug:"/cinema4d/programming/specific/matrix",permalink:"/docs/cinema4d/programming/specific/matrix",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cinema4d/programming/specific/matrix.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"get_all_objects_crawl_objects",permalink:"/docs/cinema4d/programming/specific/get_all_objects_crawl_objects"},next:{title:"Mocap/Motion System Editing",permalink:"/docs/cinema4d/programming/specific/mocap"}},c={},l=[{value:"Gotchas",id:"gotchas",level:3},{value:"Code Snippets",id:"code-snippets",level:3}];function m(e){const t={a:"a",code:"code",h1:"h1",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"matrix",children:"Matrix"}),"\n",(0,o.jsxs)(t.p,{children:["Matrix math is widely used for various DCC to represent position, rotation and scale. Cinema4D provides a ",(0,o.jsx)(t.a,{href:"https://developers.maxon.net/docs/Cinema4DPythonSDK/html/manuals/data_algorithms/classic_api/matrix.html?highlight=matrix",children:"comprehensive introduction"})," on its own implemention."]}),"\n",(0,o.jsx)(t.h3,{id:"gotchas",children:"Gotchas"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"For matrices, there is no such thing as division"}),"\n",(0,o.jsx)(t.li,{}),"\n"]}),"\n",(0,o.jsx)(t.h3,{id:"code-snippets",children:"Code Snippets"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:'# Retrieved from https://gist.github.com/andreberg/888507/f653bdb58299ca0efe198f4ff14525ca033c286a\n\ndef getGlobalPosition(obj):\n    return obj.GetMg().off\n\ndef getGlobalRotation(obj):\n    return MatrixToHPB(obj.GetMg()) # Use c4d.utils.RadtoDeg() to convert to degrees. \n\ndef getGlobalScale(obj):\n    m = obj.GetMg()\n    return c4d.Vector(m.v1.GetLength(),\n                        m.v2.GetLength(),\n                        m.v3.GetLength())\n\n@staticmethod\ndef setGlobalPosition(obj, pos):\n    m = obj.GetMg()\n    m.off = pos\n    obj.SetMg(m)\n\n@staticmethod\ndef setGlobalRotation(obj, rot):\n    """\n    Please remember, CINEMA 4D handles rotation in radians.\n        \n    Example for H=10, P=20, B=30:\n        \n    import c4d\n    from c4d import utils\n    #...\n    hpb = c4d.Vector(utils.Rad(10), utils.Rad(20), utils.Rad(30))\n    SetGlobalRotation(obj, hpb) #object\'s rotation is 10, 20, 30\n    """\n    m = obj.GetMg()\n    pos = m.off\n    scale = c4d.Vector( m.v1.GetLength(),\n                        m.v2.GetLength(),\n                        m.v3.GetLength())\n                        \n    m = HPBToMatrix(rot)\n    \n    m.off = pos\n    m.v1 = m.v1.GetNormalized() * scale.x\n    m.v2 = m.v2.GetNormalized() * scale.y\n    m.v3 = m.v3.GetNormalized() * scale.z\n    \n    obj.SetMg(m)\n\n@staticmethod\ndef setGlobalScale(obj, scale):\n    m = obj.GetMg()\n    \n    m.v1 = m.v1.GetNormalized() * scale.x\n    m.v2 = m.v2.GetNormalized() * scale.y\n    m.v3 = m.v3.GetNormalized() * scale.z\n    \n    obj.SetMg(m)\n\ndef _GlobalToLocal(self, obj, global_pos) :\n    """     Returns a point in global coordinate in local space. """    \n    obj_mg = obj.GetMg()     \n    return ~obj_mg * global_pos\xa0\n\n\ndef get_points_global_matrix(obj, point_idx):\n    \n    obj_local_pos = obj.GetPoint(idx)\n    obj_world_pos = obj.GetMg() * obj_local_pos\n\n'})})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(m,{...e})}):m(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var o=n(6540);const i={},a=o.createContext(i);function s(e){const t=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);