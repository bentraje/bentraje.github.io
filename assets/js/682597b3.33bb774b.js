"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2507,1742,3245,816,455,243,7927],{725:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var s=a(6540),n=a(8465),r=a.n(n),l=a(6430),o=a(2905),d=a(4848);const i=e=>{let{employees:t,setEmployees:a,setIsAdding:n,getEmployees:i}=e;const[c,m]=(0,s.useState)(!1),[u,x]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),[b,h]=(0,s.useState)(""),[y,f]=(0,s.useState)(""),[j,N]=(0,s.useState)(""),[w,v]=(0,s.useState)(""),[k,C]=(0,s.useState)("");return(0,d.jsx)("div",{className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md",children:(0,d.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!p)return r().fire({icon:"error",title:"Error!",text:"Name field is required.",showConfirmButton:!0});const s={bunot:c,generation:u,name:p,parents_a:b,parents_b:y,pick:j,point_person:w,spouse:k};t.push(s);try{await(0,l.gS)((0,l.rJ)(o.db,"names02"),{...s})}catch(d){console.log(d)}a(t),n(!1),i(),r().fire({icon:"success",title:"Added!",text:`${p}'s data has been added.`,showConfirmButton:!1,timer:1500})},children:[(0,d.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Add Relative"}),(0,d.jsx)("label",{htmlFor:"name",className:"block text-gray-700",children:"Name"}),(0,d.jsx)("input",{id:"name",type:"text",value:p,onChange:e=>g(e.target.value),className:"w-full p-2 mb-4 border border-gray-300 rounded"}),(0,d.jsx)("label",{htmlFor:"bunot",className:"block text-gray-700",children:"Bunot"}),(0,d.jsx)("input",{id:"bunot",type:"checkbox",checked:c,onChange:e=>m(e.target.checked),className:"mb-4"}),(0,d.jsx)("label",{htmlFor:"generation",className:"block text-gray-700",children:"Generation"}),(0,d.jsx)("input",{id:"generation",type:"number",value:u,onChange:e=>x(e.target.value),className:"w-full p-2 mb-4 border border-gray-300 rounded"}),(0,d.jsx)("label",{htmlFor:"parentsA",className:"block text-gray-700",children:"Parents A"}),(0,d.jsx)("input",{id:"parentsA",type:"text",value:b,onChange:e=>h(e.target.value),className:"w-full p-2 mb-4 border border-gray-300 rounded"}),(0,d.jsx)("label",{htmlFor:"parentsB",className:"block text-gray-700",children:"Parents B"}),(0,d.jsx)("input",{id:"parentsB",type:"text",value:y,onChange:e=>f(e.target.value),className:"w-full p-2 mb-4 border border-gray-300 rounded"}),(0,d.jsx)("label",{htmlFor:"pick",className:"block text-gray-700",children:"Pick"}),(0,d.jsx)("input",{id:"pick",type:"text",value:j,onChange:e=>N(e.target.value),className:"w-full p-2 mb-4 border border-gray-300 rounded"}),(0,d.jsx)("label",{htmlFor:"pointPerson",className:"block text-gray-700",children:"Point Person"}),(0,d.jsx)("input",{id:"pointPerson",type:"text",value:w,onChange:e=>v(e.target.value),className:"w-full p-2 mb-4 border border-gray-300 rounded"}),(0,d.jsx)("label",{htmlFor:"spouse",className:"block text-gray-700",children:"Spouse"}),(0,d.jsx)("input",{id:"spouse",type:"text",value:k,onChange:e=>C(e.target.value),className:"w-full p-2 mb-4 border border-gray-300 rounded"}),(0,d.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,d.jsx)("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600",children:"Add"}),(0,d.jsx)("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"})]})]})})}},4192:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var s=a(6540),n=a(8465),r=a.n(n),l=a(6430),o=a(2905),d=a(4848);const i=e=>{let{employees:t,selectedEmployee:a,setEmployees:n,setIsEditing:i,getEmployees:c}=e;const m=a.id,[u,x]=(0,s.useState)(a.bunot||!1),[p,g]=(0,s.useState)(a.generation||""),[b,h]=(0,s.useState)(a.name||""),[y,f]=(0,s.useState)(a.parents_a||""),[j,N]=(0,s.useState)(a.parents_b||""),[w,v]=(0,s.useState)(a.pick||""),[k,C]=(0,s.useState)(a.point_person||""),[S,A]=(0,s.useState)(a.spouse||"");return(0,d.jsx)("div",{className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md",children:(0,d.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!b)return r().fire({icon:"error",title:"Error!",text:"Name field is required.",showConfirmButton:!0});const a={bunot:u,generation:p,name:b,parents_a:y,parents_b:j,pick:w,point_person:k,spouse:S};await(0,l.BN)((0,l.H9)(o.db,"names02",m),{...a,id:m}),n(t),i(!1),c(),r().fire({icon:"success",title:"Updated!",text:`${b}'s data has been updated.`,showConfirmButton:!1,timer:1500})},children:[(0,d.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Edit Relative"}),(0,d.jsx)("label",{htmlFor:"name",className:"block text-gray-700",children:"Name"}),(0,d.jsx)("input",{id:"name",type:"text",value:b,onChange:e=>h(e.target.value),className:"w-full p-2 mb-4 border border-gray-300 rounded"}),(0,d.jsx)("label",{htmlFor:"bunot",className:"block text-gray-700",children:"Bunot"}),(0,d.jsx)("input",{id:"bunot",type:"checkbox",checked:u,onChange:e=>x(e.target.checked),className:"mb-4"}),(0,d.jsx)("label",{htmlFor:"generation",className:"block text-gray-700",children:"Generation"}),(0,d.jsx)("input",{id:"generation",type:"number",value:p,onChange:e=>g(e.target.value),className:"w-full p-2 mb-4 border border-gray-300 rounded"}),(0,d.jsx)("label",{htmlFor:"parentsA",className:"block text-gray-700",children:"Parents A"}),(0,d.jsx)("input",{id:"parentsA",type:"text",value:y,onChange:e=>f(e.target.value),className:"w-full p-2 mb-4 border border-gray-300 rounded"}),(0,d.jsx)("label",{htmlFor:"parentsB",className:"block text-gray-700",children:"Parents B"}),(0,d.jsx)("input",{id:"parentsB",type:"text",value:j,onChange:e=>N(e.target.value),className:"w-full p-2 mb-4 border border-gray-300 rounded"}),(0,d.jsx)("label",{htmlFor:"pick",className:"block text-gray-700",children:"Pick"}),(0,d.jsx)("input",{id:"pick",type:"text",value:w,onChange:e=>v(e.target.value),className:"w-full p-2 mb-4 border border-gray-300 rounded"}),(0,d.jsx)("label",{htmlFor:"pointPerson",className:"block text-gray-700",children:"Point Person"}),(0,d.jsx)("input",{id:"pointPerson",type:"text",value:k,onChange:e=>C(e.target.value),className:"w-full p-2 mb-4 border border-gray-300 rounded"}),(0,d.jsx)("label",{htmlFor:"spouse",className:"block text-gray-700",children:"Spouse"}),(0,d.jsx)("input",{id:"spouse",type:"text",value:S,onChange:e=>A(e.target.value),className:"w-full p-2 mb-4 border border-gray-300 rounded"}),(0,d.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,d.jsx)("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600",children:"Update"}),(0,d.jsx)("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"})]})]})})}},633:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var s=a(6540),n=a(7391),r=a(6430),l=a(2905),o=a(8148),d=a(5003),i=a(4848);const c=e=>{let{setIsAdding:t,setIsAuthenticated:a,isAdmin:c}=e;const[m,u]=(0,s.useState)("");return(0,s.useEffect)((()=>{(async()=>{const e=(0,n.xI)().currentUser;if(e){const t=e.uid,a=(0,r.H9)(l.db,"names02",t),s=await(0,r.x7)(a);if(s.exists()){const e=s.data();u(e.name)}}})()}),[]),(0,i.jsxs)("header",{className:"max-w-md mx-auto mt-10 p-6 bg-white text-center",children:[(0,i.jsx)("img",{src:d.A,alt:"Manito Header",className:"w-full h-auto mb-4 rounded-md"}),(0,i.jsx)("h1",{className:"text-2xl font-bold text-gray-800 text-center mb-2 leading-tight",children:"Tatay Nanding and Nanay Inday"}),(0,i.jsx)("h2",{className:"text-xl italic text-gray-700 text-center",children:"Manito/Manita Christmas Reunion"}),(0,i.jsx)("br",{}),(0,i.jsxs)("div",{className:"flex justify-center items-center space-x-4",children:[c&&(0,i.jsx)("button",{onClick:()=>t(!0),className:"px-4 py-2 text-white bg-blue-600 rounded-md shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Add Relative"}),m&&(0,i.jsxs)("p",{className:"text-gray-600",children:["You are logged in as ",(0,i.jsx)("span",{className:"text-red-500 font-bold",children:m})]}),(0,i.jsx)(o.default,{setIsAuthenticated:a})]})]})}},3258:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var s=a(6540),n=a(6430),r=a(2905),l=a(4848);const o=e=>{let{employees:t,handleEdit:a,handleDelete:o,isAdmin:d,getGenerationList:i,familyTree:c}=e;const[m,u]=(0,s.useState)({}),[x,p]=(0,s.useState)({}),[g,b]=(0,s.useState)({});(0,s.useEffect)((()=>{(async()=>{const e={};(await(0,n.GG)((0,n.rJ)(r.db,"names02"))).forEach((t=>{e[t.id]=t.data().name||"Unknown"})),b(e)})()}),[]);return(0,l.jsx)("div",{className:"flex justify-center mt-6",children:(0,l.jsxs)("table",{className:"table-auto",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-gray-100 border-b",children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-700",children:"Name"}),(0,l.jsx)("th",{className:"px-6 py-3 text-center text-sm font-medium text-gray-700",children:"Pick"}),d&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-700",children:"Pick ID "}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-700",children:"Parents"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-700",children:"Spouse"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-700",children:"Generation"}),(0,l.jsx)("th",{className:"px-6 py-3 text-center text-sm font-medium text-gray-700",children:"Actions"})]})]})}),(0,l.jsx)("tbody",{children:t&&t.length>0?t.map(((e,t)=>(0,l.jsxs)("tr",{className:(t%2==0?"bg-white":"bg-gray-50")+" hover:bg-gray-100 border-b",children:[(0,l.jsx)("td",{className:"px-6 py-4 text-left text-gray-600",children:e.name}),(0,l.jsx)("td",{className:"px-6 py-4 text-center text-gray-600",children:""===e.pick?m[e.name]?m[e.name]:x[e.name]?x[e.name]:(0,l.jsx)("button",{className:"px-3 py-1 text-sm text-white bg-blue-500 rounded-lg hover:bg-blue-600",onClick:()=>(async(e,t)=>{const a=i(e,c).filter((t=>t!==e)),s=((e,t)=>e.filter((e=>e.pick&&""!==e.pick.trim())).map((e=>t[e.pick]||e.pick)))(c,g),l=((e,t)=>{const a=t.find((t=>t.name===e));if(!a||!a.spouse)return[];const s=t.find((e=>e.id===a.spouse));return s?[s.name]:[]})(e,c),o=((e,t)=>{const a=t.find((t=>t.name===e));if(!a||!a.parents_a)return[];const s=a.parents_a;return t.filter((t=>t.parents_a===s&&t.name!==e)).map((e=>e.name))})(e,c),d=(e=>e.filter((e=>!1===e.bunot)).map((e=>e.name)))(c),m=((e,t,a,s,n)=>e.filter((e=>!(t.includes(e)||a.includes(e)||s.includes(e)||n.includes(e)))))(a,l,s,o,d);if(console.log("generation",a),console.log("picked",s),console.log("spouse",l),console.log("sibling",o),console.log("noBonut",d),console.log("eligible",m),m.length>0){const s=m[Math.floor(Math.random()*m.length)],l=(0,n.P)((0,n.rJ)(r.db,"names02"),(0,n._M)("name","==",s)),o=(await(0,n.GG)(l)).docs[0],d={id:o.id,...o.data()};console.log(d);let i=0;const c=setInterval((()=>{p((t=>({...t,[e]:a[i%a.length]}))),i+=1}),100);setTimeout((async()=>{clearInterval(c),p((t=>({...t,[e]:null}))),u((t=>({...t,[e]:d.name}))),console.log("Picked Name:",d.name);try{const e=(0,n.H9)(r.db,"names02",t);await(0,n.BN)(e,{pick:d.id},{merge:!0}),console.log(`Updated Firestore with picked person ID: ${d.id}`)}catch(a){console.error("Error updating Firestore:",a)}}),3e3)}else console.log("No eligible names available to pick.")})(e.name,e.id),children:"Bunot"}):g[e.pick]||e.pick}),d&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("td",{className:"px-2 py-2 text-left text-gray-600",children:e.id}),(0,l.jsx)("td",{className:"px-2 py-2 text-left text-gray-600",children:e.parents_a}),(0,l.jsx)("td",{className:"px-2 py-2 text-left text-gray-600",children:e.spouse}),(0,l.jsx)("td",{className:"px-2 py-2 text-left text-gray-600",children:e.generation}),(0,l.jsxs)("td",{className:"px-2 py-2 text-center",children:[(0,l.jsx)("button",{onClick:()=>a(e.id),className:"px-3 py-1 text-sm text-gray-600 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Edit"}),(0,l.jsx)("button",{onClick:()=>o(e.id),className:"px-3 py-1 text-sm text-gray-600 bg-red-200 rounded-lg hover:bg-red-300",children:"Delete"})]})]})]},e.id))):(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:d?7:2,className:"px-6 py-4 text-center text-gray-600",children:"."})})})]})})}},8278:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var s=a(6540),n=a(6430),r=a(7391),l=a(8465),o=a.n(l),d=a(633),i=a(3258),c=a(725),m=a(4192),u=a(2905),x=a(4848);const p=(e,t)=>{const a=t.find((t=>t.name===e));if(!a)return[];const s=a.generation;return t.filter((e=>e.generation===s)).map((e=>e.name))},g=e=>{let{setIsAuthenticated:t}=e;const[a,l]=(0,s.useState)(),[g,b]=(0,s.useState)(null),[h,y]=(0,s.useState)(!1),[f,j]=(0,s.useState)(!1),[N,w]=(0,s.useState)([]),[v,k]=(0,s.useState)(!1),C=async()=>{const e=(0,r.xI)().currentUser,t=e.email,a=(t.split("@")[0],e.uid),s=["admin@example.com","admin2@example.com","admin@gmail.com"].includes(t);k(s);const o=(await(0,n.GG)((0,n.rJ)(u.db,"names02"))).docs.map((e=>({id:e.id,...e.data()})));if(w(o),s)l(o);else{const e=(0,n.P)((0,n.rJ)(u.db,"names02"),(0,n._M)("point_person","==",a)),t=(await(0,n.GG)(e)).docs.map((e=>({id:e.id,...e.data()})));l(t)}};(0,s.useEffect)((()=>{const e=(0,r.xI)();(0,r.hg)(e,(e=>{e?C():t(!1)}))}),[]);return(0,x.jsxs)("div",{className:"max-w-full mx-auto mt-20 p-6 bg-white rounded-lg shadow-md w-full overflow-x-auto",children:[!h&&!f&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.default,{setIsAdding:y,setIsAuthenticated:t,isAdmin:v}),(0,x.jsx)(i.default,{employees:a,handleEdit:e=>{const[t]=a.filter((t=>t.id===e));b(t),j(!0)},handleDelete:e=>{o().fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!"}).then((t=>{if(t.value){const[t]=a.filter((t=>t.id===e));(0,n.kd)((0,n.H9)(u.db,"names02",e)),o().fire({icon:"success",title:"Deleted!",text:`${t.firstName} ${t.lastName}'s data has been deleted.`,showConfirmButton:!1,timer:1500});const s=a.filter((t=>t.id!==e));l(s)}}))},isAdmin:v,getGenerationList:p,familyTree:N})]}),h&&(0,x.jsx)(c.default,{employees:a,setEmployees:l,setIsAdding:y,getEmployees:C}),f&&(0,x.jsx)(m.default,{employees:a,selectedEmployee:g,setEmployees:l,setIsEditing:j,getEmployees:C}),(0,x.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg shadow-md max-w-md mx-auto p-6 rounded-lg shadow-md",children:(0,x.jsxs)("p",{className:"text-gray-800 text-lg",children:["If you encounter any errors, have additions, updates, or questions, please contact\xa0 ",(0,x.jsx)("br",{}),(0,x.jsx)("a",{href:"https://web.facebook.com/rebenrio.traje/",target:"_blank",className:"text-blue-600 hover:text-blue-800 font-semibold",children:"Ben Traje"}),"\xa0on Facebook."]})})]})}},8148:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});a(6540);var s=a(8465),n=a.n(s),r=a(7391),l=a(4848);const o=e=>{let{setIsAuthenticated:t}=e;return(0,l.jsx)("button",{className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md shadow hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400",onClick:()=>{const e=(0,r.xI)();(0,r.CI)(e).then((()=>{n().fire({icon:"question",title:"Logging Out",text:"Are you sure you want to log out?",showCancelButton:!0,confirmButtonText:"Yes"}).then((e=>{e.value&&n().fire({timer:1500,showConfirmButton:!1,willOpen:()=>{n().showLoading()},willClose:()=>{t(!1)}})}))})).catch((e=>{console.log(e)}))},children:"Logout"})}},2905:(e,t,a)=>{a.r(t),a.d(t,{db:()=>l});var s=a(223),n=a(6430);const r=(0,s.Wp)({apiKey:"AIzaSyBD2yUpGVaZw6N9x6iex8pbJx20cqA-EK0",authDomain:"employee-database-861a6.firebaseapp.com",projectId:"employee-database-861a6",storageBucket:"employee-database-861a6.appspot.com",messagingSenderId:"69607313080",appId:"1:69607313080:web:99a0f1e74c4fa5c66eae4d"}),l=(0,n.aU)(r)},5003:(e,t,a)=>{a.d(t,{A:()=>s});const s=a.p+"assets/images/manito_header-a125386f99d4f64717841133f1a64463.png"}}]);